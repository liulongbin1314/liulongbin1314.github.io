{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Chat/Chat.vue?7d99","webpack:///./src/views/SearchResult/SearchResult.vue?b904","webpack:///./src/views/User/User.vue?e654","webpack:///./src/views/Login/Login.vue?b963","webpack:///./src/views/Home/Home.vue?fa03","webpack:///./src/views/UserEdit/UserEdit.vue?f7bd","webpack:///./src/App.vue?d01d","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/utils/request.js","webpack:///./src/api/userAPI.js","webpack:///./src/store/index.js","webpack:///./src/views/Login/Login.vue?1275","webpack:///src/views/Login/Login.vue","webpack:///./src/views/Login/Login.vue?8567","webpack:///./src/views/Login/Login.vue","webpack:///./src/views/Main/Main.vue?986a","webpack:///src/views/Main/Main.vue","webpack:///./src/views/Main/Main.vue?b5a6","webpack:///./src/views/Main/Main.vue","webpack:///./src/views/Home/Home.vue?d205","webpack:///./src/api/homeAPI.js","webpack:///./src/components/ArtList/ArtList.vue?b2c5","webpack:///./src/components/ArtItem/ArtItem.vue?8790","webpack:///./src/api/reports.js","webpack:///src/components/ArtItem/ArtItem.vue","webpack:///./src/components/ArtItem/ArtItem.vue?e74a","webpack:///./src/components/ArtItem/ArtItem.vue","webpack:///src/components/ArtList/ArtList.vue","webpack:///./src/components/ArtList/ArtList.vue?8f3a","webpack:///./src/components/ArtList/ArtList.vue","webpack:///src/views/Home/Home.vue","webpack:///./src/views/Home/Home.vue?9223","webpack:///./src/views/Home/Home.vue","webpack:///./src/views/User/User.vue?3e18","webpack:///src/views/User/User.vue","webpack:///./src/views/User/User.vue?3ac1","webpack:///./src/views/User/User.vue","webpack:///./src/views/Search/Search.vue?9de5","webpack:///./src/api/searchAPI.js","webpack:///src/views/Search/Search.vue","webpack:///./src/views/Search/Search.vue?c4c4","webpack:///./src/views/Search/Search.vue","webpack:///./src/views/SearchResult/SearchResult.vue?dda3","webpack:///src/views/SearchResult/SearchResult.vue","webpack:///./src/views/SearchResult/SearchResult.vue?67b6","webpack:///./src/views/SearchResult/SearchResult.vue","webpack:///./src/views/ArticleDetail/ArticleDetail.vue?165a","webpack:///./src/api/articleAPI.js","webpack:///./src/components/ArtCmt/ArtCmt.vue?369a","webpack:///src/components/ArtCmt/ArtCmt.vue","webpack:///./src/components/ArtCmt/ArtCmt.vue?b77b","webpack:///./src/components/ArtCmt/ArtCmt.vue","webpack:///src/views/ArticleDetail/ArticleDetail.vue","webpack:///./src/views/ArticleDetail/ArticleDetail.vue?9255","webpack:///./src/views/ArticleDetail/ArticleDetail.vue","webpack:///./src/views/UserEdit/UserEdit.vue?a73d","webpack:///src/views/UserEdit/UserEdit.vue","webpack:///./src/views/UserEdit/UserEdit.vue?2e93","webpack:///./src/views/UserEdit/UserEdit.vue","webpack:///./src/views/Chat/Chat.vue?b6df","webpack:///src/views/Chat/Chat.vue","webpack:///./src/views/Chat/Chat.vue?8ded","webpack:///./src/views/Chat/Chat.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/ArtItem/ArtItem.vue?8186","webpack:///./src/components/ArtCmt/ArtCmt.vue?efb7","webpack:///./src/assets/toutiao_logo.png","webpack:///./src/views/ArticleDetail/ArticleDetail.vue?62ee","webpack:///./src/views/Search/Search.vue?83d5"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","transBigInt","bigInt","parse","instance","axios","baseURL","transformResponse","interceptors","request","use","config","Toast","loading","message","duration","tokenStr","store","state","tokenInfo","token","headers","Authorization","error","Promise","reject","response","clear","status","refresh_token","console","log","exchangeTokenAPI","res","commit","router","currentRoute","fullPath","loginAPI","post","getUserInfoAPI","getUserProfileAPI","updateUserProfileAPI","obj","patch","updateUserAvatarAPI","fd","refreshToken","method","url","Vue","Vuex","initState","userInfo","userProfile","stateStr","localStorage","getItem","JSON","Store","mutations","updateTokenInfo","payload","saveStateToStorage","setItem","stringify","updateUserInfo","updateUserProfile","cleanState","actions","initUserInfo","ctx","initUserProfile","getters","userAvatar","imgSrc","photo","staticClass","on","login","rules","mobile","model","form","callback","$$v","$set","expression","code","staticStyle","_v","methods","scopedSlots","_u","fn","proxy","$event","$router","beforeTabsChange","onTabsChange","active","_l","item","id","show","isDel","_s","index","onUserChannelClick","userChannel","_e","addChannel","getUserChannelAPI","getArtListAPI","params","channel_id","timestamp","Date","now","with_top","dislikeArticleAPI","target","reportArticleAPI","type","getAllChannelAPI","updateUserChannelAPI","channels","put","onRefresh","isLoading","finished","onLoad","art_id","toString","removeArticle","artId","article","title","cover","directives","rawName","images","aut_name","comm_count","_f","pubdate","stopPropagation","isFirst","onCellClick","label","reportArticle","reports","props","required","closable","Boolean","default","computed","channelId","Number","artlist","created","initArtList","filter","components","ArtItem","allChannel","initUserChannel","initAllChannel","activated","scrollTo","$route","meta","top","updateChannel","channel","indexToTop","scrollY","$nextTick","moreChannels","ArtList","art_count","follow_count","fans_count","logout","back","ref","onInput","kw","trim","domProps","gotoSearchResult","history","tag","getSuggestListAPI","q","getSearchResultAPI","page","timerId","suggestList","mounted","$refs","searchRef","querySelector","focus","clearTimeout","setTimeout","hlightKeywords","arr","forEach","replace","reg","watch","newVal","searchList","preKw","initSearchList","deactivated","aut_photo","setUnfollow","setFollow","content","attitude","setDislike","setLike","getArticleDetailAPI","followUserAPI","userId","unfollowUserAPI","delete","addLikeAPI","delLikeAPI","getCmtListAPI","offset","source","addLikeCmtAPI","cmtId","delLikeCmtAPI","pubCommentAPI","class","isShowBox1","delLike","addLike","showBox2","cmtCount","scrollToCmtList","modifiers","hideBox2","$forceUpdate","composing","cmt","pubCmt","String","cmtlist","initCmtList","from","to","dist","onUpdate","initArticle","updated","ArtCmt","fileRef","click","onFileChange","onNameCellClick","birthday","onBirthCellClick","beforeClose","showNameDialog","showBirthSheet","minDate","maxDate","updateBirthday","currentDate","action","done","$notify","nameRef","updateName","msg","send","word","list","socket","beforeDestroy","close","emit","scrollToBottom","lastItem","scrollIntoView","behavior","block","originalPush","VueRouter","location","onResolve","onReject","catch","err","routes","path","Login","Main","children","Home","keepAlive","User","Search","SearchResult","ArticleDetail","UserEdit","Chat","pagePathArr","beforeEach","next","indexOf","Vant","Lazyload","dayjs","extend","relativeTime","locale","zh","dt","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.31f713d5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=style&index=0&id=64ddef1e&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=style&index=0&id=6fa072a2&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=332d6396&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=c76dc670&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=692aec10&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEdit.vue?vue&type=style&index=0&id=9cdb0c90&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('keep-alive',{attrs:{\"include\":\"Main,SearchResult\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 路由占位符 -->\n    <keep-alive include=\"Main,SearchResult\">\n      <router-view></router-view>\n    </keep-alive>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style lang=\"less\" scoped></style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=02697234&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02697234\",\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\nimport { Toast } from 'vant'\nimport store from '@/store/index'\nimport bigInt from 'json-bigint'\n// 按需导入换取 token 的 API\nimport { exchangeTokenAPI } from '@/api/userAPI.js'\nimport router from '@/router/index.js'\n\n// 自定义处理大数的方法\nconst transBigInt = data => {\n  if (!data) return ''\n  return bigInt.parse(data)\n}\n\n// 调用 axios.create() 方法，创建 axios 的实例对象\nconst instance = axios.create({\n  // 请求根路径\n  baseURL: 'http://toutiao-app.itheima.net',\n  transformResponse: [transBigInt]\n})\n\n// 请求拦截器\ninstance.interceptors.request.use(\n  config => {\n    // 展示 loading 提示效果\n    Toast.loading({\n      message: '加载中...',\n      duration: 0\n    })\n\n    // 获取 token 值\n    const tokenStr = store.state.tokenInfo.token\n    // 判断 token 值是否存在\n    if (tokenStr) {\n      // 添加身份认证字段\n      config.headers.Authorization = `Bearer ${tokenStr}`\n    }\n    return config\n  },\n  error => {\n    return Promise.reject(error)\n  }\n)\n\n// 响应拦截器\ninstance.interceptors.response.use(\n  response => {\n    // 隐藏 loading 提示效果\n    Toast.clear()\n    return response\n  },\n  async error => {\n    Toast.clear()\n\n    // 1. 从 vuex 中获取 tokenInfo 对象，格式为： { token, refresh_token }\n    const tokenInfo = store.state.tokenInfo\n    // 2. 判断是否为 token 过期\n    if (error.response && error.response.status === 401 && tokenInfo.refresh_token) {\n      // token 过期\n      console.log('token过期啦')\n\n      try {\n        // 3.1 TODO: 发起请求，根据 refresh_token 重新请求一个有效的新 token\n        const { data: res } = await exchangeTokenAPI(tokenInfo.refresh_token)\n\n        // 3.2 TODO: 更新 Store 中的 Token\n        store.commit('updateTokenInfo', { token: res.data.token, refresh_token: tokenInfo.refresh_token })\n\n        // 3.3 重新调用刚才“请求未遂”的接口\n        // 3.3.1 如果在响应拦截器中 return 一个新的 Promise 异步请求，则会把这次请求的结果，当作上次请求的返回值\n        return instance(error.config)\n      } catch {\n        //  token 和 refresh_token 都失效了\n\n        // 1. 清空 vuex 和 localStorage\n        store.commit('cleanState')\n        // 2. 强制跳转到登录页\n        router.push('/login?pre=' + router.currentRoute.fullPath)\n      }\n    }\n    return Promise.reject(error)\n  }\n)\n\nexport default instance\n","import request from '@/utils/request'\nimport axios from 'axios'\n\n// 登录的 API 接口\nexport const loginAPI = data => {\n  return request.post('/v1_0/authorizations', data)\n}\n\n// 请求用户基本信息的 API\nexport const getUserInfoAPI = () => {\n  return request.get('/v1_0/user')\n}\n\n// 请求用户简介信息的 API\nexport const getUserProfileAPI = () => {\n  return request.get('/v1_0/user/profile')\n}\n\n// 修改用户简介信息的 API（形参中的 obj 是对象格式的简介信息）\n// 可能的格式有以下两种：\n// { name: 'xxx' } 或 { birthday: '2012-12-12' }\nexport const updateUserProfileAPI = obj => {\n  return request.patch('/v1_0/user/profile', obj)\n}\n\n// 修改头像的 API（形参中的 fd 表示 FormData 格式的表单数据）\nexport const updateUserAvatarAPI = fd => {\n  return request.patch('/v1_0/user/photo', fd)\n}\n\n// 换取 Token 的 API（形参中的 refreshToken 用来换取新 token）\nexport const exchangeTokenAPI = refreshToken => {\n  return axios({\n    method: 'PUT',\n    url: 'http://toutiao-app.itheima.net/v1_0/authorizations',\n    headers: {\n      // 在请求头中携带 Authorization 身份认证字段\n      Authorization: 'Bearer ' + refreshToken\n    }\n  })\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n// 按需导入 API 方法\nimport { getUserInfoAPI, getUserProfileAPI } from '@/api/userAPI.js'\n\nVue.use(Vuex)\n\n// 初始的 state 对象\nlet initState = {\n  // token 的信息对象\n  tokenInfo: {},\n  // 用户的基本信息\n  userInfo: {},\n  // 用户的简介信息\n  userProfile: {}\n}\n\nconst stateStr = localStorage.getItem('state')\nif (stateStr) {\n  initState = JSON.parse(stateStr)\n}\n\nexport default new Vuex.Store({\n  state: initState,\n  mutations: {\n    // 更新 tokenInfo 数据的方法\n    updateTokenInfo(state, payload) {\n      state.tokenInfo = payload\n      this.commit('saveStateToStorage')\n    },\n    // 将 state 持久化存储到本地\n    saveStateToStorage(state) {\n      localStorage.setItem('state', JSON.stringify(state))\n    },\n    // 更新 userInfo 的方法\n    updateUserInfo(state, payload) {\n      state.userInfo = payload\n      this.commit('saveStateToStorage')\n    },\n    // 更新 userProfile 的方法\n    updateUserProfile(state, payload) {\n      state.userProfile = payload\n      this.commit('saveStateToStorage')\n    },\n    // 清空 vuex 和本地的数据\n    cleanState(state) {\n      // 1. 清空 vuex 中的数据\n      state.tokenInfo = {}\n      state.userInfo = {}\n      state.userProfile = {}\n\n      // 2. 将清空后的 state 存储到本地\n      this.commit('saveStateToStorage')\n    }\n  },\n  actions: {\n    // 初始化用户的基本信息\n    async initUserInfo(ctx) {\n      // 调用 API 接口\n      const { data: res } = await getUserInfoAPI()\n      if (res.message === 'OK') {\n        // TODO：把数据转交给 Mutation 方法   ctx.commit('Mutation方法名')\n        ctx.commit('updateUserInfo', res.data)\n      }\n    },\n    // 初始化用户的简介信息\n    async initUserProfile(ctx) {\n      // 调用 API 接口\n      const { data: res } = await getUserProfileAPI()\n      if (res.message === 'OK') {\n        // TODO：把请求到的数据转交给 Mutation 方法   ctx.commit('Mutation方法名')\n        ctx.commit('updateUserProfile', res.data)\n      }\n    }\n  },\n  getters: {\n    // 用户头像的计算属性\n    userAvatar(state) {\n      // 默认的头像地址\n      let imgSrc = 'https://img.yzcdn.cn/vant/cat.jpeg'\n      // 如果用户信息对象中包含 photo 属性的值，则为 imgSrc 重新赋值\n      if (state.userInfo.photo) {\n        imgSrc = state.userInfo.photo\n      }\n      return imgSrc\n    }\n  }\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"黑马头条 - 登录\",\"fixed\":\"\"}}),_c('van-form',{on:{\"submit\":_vm.login}},[_c('van-field',{attrs:{\"type\":\"tel\",\"label\":\"手机号码\",\"placeholder\":\"请输入手机号码\",\"required\":\"\",\"rules\":_vm.rules.mobile},model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"登录密码\",\"placeholder\":\"请输入登录密码\",\"required\":\"\",\"rules\":_vm.rules.code},model:{value:(_vm.form.code),callback:function ($$v) {_vm.$set(_vm.form, \"code\", $$v)},expression:\"form.code\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-container\">\n    <!-- NavBar 组件：只需提供 title 标题 -->\n    <van-nav-bar title=\"黑马头条 - 登录\" fixed />\n\n    <!-- 登录的表单 -->\n    <van-form @submit=\"login\">\n      <van-field type=\"tel\" v-model=\"form.mobile\" label=\"手机号码\" placeholder=\"请输入手机号码\" required :rules=\"rules.mobile\"></van-field>\n      <van-field type=\"password\" v-model=\"form.code\" label=\"登录密码\" placeholder=\"请输入登录密码\" required :rules=\"rules.code\"></van-field>\n      <div style=\"margin: 16px;\">\n        <van-button round block type=\"info\" native-type=\"submit\">提交</van-button>\n      </div>\n    </van-form>\n  </div>\n</template>\n\n<script>\nimport { loginAPI } from '@/api/userAPI'\n// 按需导入辅助方法\nimport { mapMutations } from 'vuex'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      // 登录表单的数据，最终要双向绑定到 form 这个数据对象上\n      form: {\n        // 用户的手机号\n        mobile: '13888888888',\n        // 登录的密码\n        code: '246810'\n      },\n      rules: {\n        mobile: [\n          // 必填项的校验规则\n          { required: true, message: '请填写您的手机号', trigger: 'onBlur' },\n          // 11 位手机号的校验规则\n          { pattern: /^1\\d{10}$/, message: '请填写正确的手机号', trigger: 'onBlur' }\n        ],\n        code: [{ required: true, message: '请填写您的密码', trigger: 'onBlur' }]\n      }\n    }\n  },\n  methods: {\n    // 映射 mutations 中的方法\n    ...mapMutations(['updateTokenInfo']),\n    async login() {\n      // 只有当表单数据校验通过之后，才会调用此 login 函数\n      const { data: res } = await loginAPI(this.form)\n\n      // 判断是否登录成功了\n      if (res.message === 'OK') {\n        // TODO1：把登录成功的结果，存储到 vuex 中\n        this.updateTokenInfo(res.data)\n        // TODO2：登录成功后，跳转到主页\n        if (this.$route.query.pre) {\n          this.$router.push(this.$route.query.pre)\n        } else {\n          this.$router.push('/')\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login-container {\n  padding-top: 46px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=c76dc670&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=c76dc670&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c76dc670\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('keep-alive',[_c('router-view')],1),_c('van-tabbar',{attrs:{\"route\":\"\"}},[_c('van-tabbar-item',{attrs:{\"icon\":\"home-o\",\"to\":\"/\"}},[_vm._v(\"首页\")]),_c('van-tabbar-item',{attrs:{\"icon\":\"user-o\",\"to\":\"/user\"}},[_vm._v(\"我的\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- Home 和 User 的路由占位符 -->\n    <keep-alive>\n      <router-view></router-view>\n    </keep-alive>\n\n    <!-- 底部的 TabBar -->\n    <van-tabbar route>\n      <van-tabbar-item icon=\"home-o\" to=\"/\">首页</van-tabbar-item>\n      <van-tabbar-item icon=\"user-o\" to=\"/user\">我的</van-tabbar-item>\n    </van-tabbar>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Main'\n}\n</script>\n\n<style lang=\"less\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=8357eb06&scoped=true&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8357eb06\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../../assets/toutiao_logo.png\"),\"alt\":\"logo\"}})]},proxy:true},{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"search\",\"color\":\"white\",\"size\":\"18\"},on:{\"click\":function($event){return _vm.$router.push('/search')}}})]},proxy:true}])}),_c('van-tabs',{attrs:{\"sticky\":\"\",\"offset-top\":\"1.22666667rem\",\"before-change\":_vm.beforeTabsChange},on:{\"change\":_vm.onTabsChange},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.userChannel),function(item){return _c('van-tab',{key:item.id,attrs:{\"title\":item.name}},[_c('art-list',{attrs:{\"channel-id\":item.id}})],1)}),1),_c('van-icon',{staticClass:\"plus\",attrs:{\"name\":\"plus\",\"size\":\"16\"},on:{\"click\":function($event){_vm.show = true}}}),_c('van-popup',{attrs:{\"close-on-click-overlay\":false},on:{\"closed\":function($event){_vm.isDel = false}},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"popup-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"频道管理\"},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"cross\",\"size\":\"14\",\"color\":\"white\"},on:{\"click\":function($event){_vm.show = false}}})]},proxy:true}])}),_c('div',{staticClass:\"pop-body\"},[_c('div',{staticClass:\"my-channel-box\"},[_c('div',{staticClass:\"channel-title\"},[_c('div',[_c('span',{staticClass:\"title-bold\"},[_vm._v(\"已添加频道：\")]),_c('span',{staticClass:\"title-gray\"},[_vm._v(_vm._s(_vm.isDel ? '点击移除频道' : '点击进入频道'))])]),_c('span',{staticClass:\"btn-edit\",on:{\"click\":function($event){_vm.isDel = !_vm.isDel}}},[_vm._v(_vm._s(_vm.isDel ? '完成' : '编辑'))])]),_c('van-row',{attrs:{\"type\":\"flex\"}},_vm._l((_vm.userChannel),function(item,index){return _c('van-col',{key:item.id,attrs:{\"span\":\"6\"}},[_c('div',{staticClass:\"channel-item van-hairline--surround\",on:{\"click\":function($event){return _vm.onUserChannelClick(item, index)}}},[_vm._v(\" \"+_vm._s(item.name)+\" \"),(_vm.isDel && item.name !== '推荐' && _vm.userChannel.length > 2)?_c('van-badge',{staticClass:\"cross-badge\",attrs:{\"color\":\"transparent\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('van-icon',{staticClass:\"badge-icon\",attrs:{\"name\":\"cross\",\"color\":\"#cfcfcf\",\"size\":\"12\"}})]},proxy:true}],null,true)}):_vm._e()],1)])}),1)],1),_c('div',{staticClass:\"van-hairline--top sp-line\"}),_c('div',{staticClass:\"more-channel-box\"},[_c('div',{staticClass:\"channel-title\"},[_c('div',[_c('span',{staticClass:\"title-bold\"},[_vm._v(\"可添加频道：\")]),_c('span',{staticClass:\"title-gray\"},[_vm._v(\"点击添加频道\")])])]),_c('van-row',{attrs:{\"type\":\"flex\"}},_vm._l((_vm.moreChannels),function(item){return _c('van-col',{key:item.id,attrs:{\"span\":\"6\"}},[_c('div',{staticClass:\"channel-item van-hairline--surround\",on:{\"click\":function($event){return _vm.addChannel(item)}}},[_vm._v(_vm._s(item.name))])])}),1)],1)])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request.js'\n\n// 请求用户频道列表数据的 API\nexport const getUserChannelAPI = () => {\n  return request.get('/v1_0/user/channels')\n}\n\n// 根据频道 Id 请求频道下的文章列表数据\nexport const getArtListAPI = id => {\n  return request.get('/v1_1/articles', {\n    params: {\n      channel_id: id,\n      timestamp: Date.now(),\n      with_top: 1\n    }\n  })\n}\n\n// 将文章设置为不感兴趣\nexport const dislikeArticleAPI = id => {\n  return request.post('/v1_0/article/dislikes', {\n    target: id\n  })\n}\n\n// 举报文章的 API\nexport const reportArticleAPI = (target, type) => {\n  return request.post('/v1_0/article/reports', {\n    target,\n    type\n  })\n}\n\n// 获取所有频道数据的 API\nexport const getAllChannelAPI = () => {\n  return request.get('/v1_0/channels')\n}\n\n// 更新用户频道列表数据的 API\n// 注意：形参 channels 是一个数组，格式： [ {id, seq} ]\nexport const updateUserChannelAPI = channels => {\n  return request.put('/v1_0/user/channels', {\n    channels\n  })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.artlist),function(item){return _c('art-item',{key:item.art_id.toString(),attrs:{\"article\":item},on:{\"remove-article\":_vm.removeArticle}})}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"click\":function($event){return _vm.$router.push('/article/' + _vm.artId)}}},[_c('van-cell',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"title-box\"},[_c('span',[_vm._v(_vm._s(_vm.article.title))]),(_vm.article.cover.type === 1)?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.article.cover.images[0]),expression:\"article.cover.images[0]\"}],staticClass:\"thumb\",attrs:{\"alt\":\"\"}}):_vm._e()]),(_vm.article.cover.type === 3)?_c('div',{staticClass:\"thumb-box\"},_vm._l((_vm.article.cover.images),function(item,index){return _c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item),expression:\"item\"}],key:index,staticClass:\"thumb\",attrs:{\"alt\":\"\"}})}),0):_vm._e()]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"label-box\"},[_c('span',[_vm._v(_vm._s(_vm.article.aut_name)+\" \"+_vm._s(_vm.article.comm_count)+\"评论 \"+_vm._s(_vm._f(\"dateFormat\")(_vm.article.pubdate)))]),(_vm.closable)?_c('van-icon',{attrs:{\"name\":\"cross\"},on:{\"click\":function($event){$event.stopPropagation();_vm.show = true}}}):_vm._e()],1)]},proxy:true}])}),_c('van-action-sheet',{attrs:{\"cancel-text\":\"取消\",\"closeable\":false,\"get-container\":\"body\"},on:{\"closed\":function($event){_vm.isFirst = true}},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.isFirst)?_c('div',_vm._l((_vm.actions),function(item){return _c('van-cell',{key:item.name,staticClass:\"center-title\",attrs:{\"title\":item.name,\"clickable\":\"\"},on:{\"click\":function($event){return _vm.onCellClick(item.name)}}})}),1):_c('div',[_c('van-cell',{attrs:{\"title\":\"返回\",\"clickable\":\"\",\"title-class\":\"center-title\"},on:{\"click\":function($event){_vm.isFirst = true}}}),_vm._l((_vm.reports),function(item){return _c('van-cell',{key:item.type,attrs:{\"title\":item.label,\"clickable\":\"\",\"title-class\":\"center-title\"},on:{\"click\":function($event){return _vm.reportArticle(item.type)}}})})],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 以模块的方式导出\"举报文章\"时，后端接口约定的举报类型\nconst reports = [\n  {\n    type: 0,\n    label: '其它问题'\n  },\n  {\n    type: 1,\n    label: '标题夸张'\n  },\n  {\n    type: 2,\n    label: '低俗色情'\n  },\n  {\n    type: 3,\n    label: '错别字多'\n  },\n  {\n    type: 4,\n    label: '旧闻重复'\n  },\n  {\n    type: 6,\n    label: '内容不实'\n  },\n  {\n    type: 8,\n    label: '侵权'\n  },\n  {\n    type: 5,\n    label: '广告软文'\n  },\n  {\n    type: 7,\n    label: '涉嫌违法犯罪'\n  }\n]\nexport default reports\n","<template>\n  <div @click=\"$router.push('/article/' + artId)\">\n    <van-cell>\n      <!-- 标题区域的插槽 -->\n      <template #title>\n        <div class=\"title-box\">\n          <!-- 标题 -->\n          <span>{{article.title}}</span>\n          <!-- 单张图片 -->\n          <img alt=\"\" class=\"thumb\" v-if=\"article.cover.type === 1\" v-lazy=\"article.cover.images[0]\">\n        </div>\n        <!-- 三张图片 -->\n        <div class=\"thumb-box\" v-if=\"article.cover.type === 3\">\n          <img alt=\"\" class=\"thumb\" v-for=\"(item, index) in article.cover.images\" :key=\"index\" v-lazy=\"item\">\n        </div>\n      </template>\n      <!-- label 区域的插槽 -->\n      <template #label>\n        <div class=\"label-box\">\n          <span>{{article.aut_name}} &nbsp;&nbsp; {{article.comm_count}}评论 &nbsp;&nbsp; {{article.pubdate | dateFormat}}</span>\n          <!-- 关闭按钮 -->\n          <van-icon name=\"cross\" @click.stop=\"show = true\" v-if=\"closable\" />\n        </div>\n      </template>\n    </van-cell>\n\n    <!-- 反馈的动作面板 -->\n    <van-action-sheet v-model=\"show\" cancel-text=\"取消\" :closeable=\"false\" @closed=\"isFirst = true\" get-container=\"body\">\n      <!-- 第一级反馈面板 -->\n      <div v-if=\"isFirst\">\n        <van-cell :title=\"item.name\" clickable class=\"center-title\" v-for=\"item in actions\" :key=\"item.name\" @click=\"onCellClick(item.name)\" />\n      </div>\n      <!-- 第二级反馈面板 -->\n      <div v-else>\n        <van-cell title=\"返回\" clickable title-class=\"center-title\" @click=\"isFirst = true\" />\n        <van-cell :title=\"item.label\" clickable title-class=\"center-title\" v-for=\"item in reports\" :key=\"item.type\" @click=\"reportArticle(item.type)\" />\n      </div>\n    </van-action-sheet>\n  </div>\n</template>\n\n<script>\nimport reports from '@/api/reports'\n// 按需导入 API 接口\nimport { dislikeArticleAPI, reportArticleAPI } from '@/api/homeAPI.js'\n\nexport default {\n  name: 'ArtItem',\n  props: {\n    // 文章的信息对象\n    article: {\n      type: Object, // 数据类型\n      required: true // 必填项\n    },\n    // 是否展示关闭按钮\n    closable: {\n      type: Boolean,\n      // 默认值为 true，表示展示关闭按钮\n      default: true\n    }\n  },\n  data() {\n    return {\n      // 是否展示反馈面板\n      show: false,\n      // 第一个面板的可选项列表\n      actions: [{ name: '不感兴趣' }, { name: '反馈垃圾内容' }, { name: '拉黑作者' }],\n      // 是否展示第一个反馈面板\n      isFirst: true,\n      // 第二个面板的可选项列表，数组中每一项的格式 { value, label }\n      reports\n    }\n  },\n  methods: {\n    // 一级选项的点击事件处理函数\n    async onCellClick(name) {\n      if (name === '不感兴趣') {\n        // 调用 API 接口，将文章设置为不感兴趣\n        const { data: res } = await dislikeArticleAPI(this.artId)\n        if (res.message === 'OK') {\n          // 炸楼的操作，触发自定义的事件，将文章 id 发送给父组件\n          this.$emit('remove-article', this.artId)\n        }\n        this.show = false\n      } else if (name === '拉黑作者') {\n        console.log('拉黑作者')\n        this.show = false\n      } else if (name === '反馈垃圾内容') {\n        // TODO：展示二级反馈面板\n        this.isFirst = false\n      }\n    },\n    // 举报文章\n    async reportArticle(type) {\n      // 发起举报文章的请求\n      const { data: res } = await reportArticleAPI(this.artId, type)\n      if (res.message === 'OK') {\n        // 炸楼操作，触发自定义事件，把文章 Id 发送给父组件\n        this.$emit('remove-article', this.artId)\n      }\n      // 关闭动作面板\n      this.show = false\n    }\n  },\n  computed: {\n    // 文章 Id 的计算属性\n    artId() {\n      return this.article.art_id.toString()\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.label-box {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.thumb {\n  // 矩形黄金比例：0.618\n  width: 113px;\n  height: 70px;\n  background-color: #f8f8f8;\n  object-fit: cover;\n}\n\n.title-box {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n.thumb-box {\n  display: flex;\n  justify-content: space-between;\n}\n\n.center-title {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArtItem.vue?vue&type=template&id=5ef335c2&scoped=true&\"\nimport script from \"./ArtItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ArtItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArtItem.vue?vue&type=style&index=0&id=5ef335c2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ef335c2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <!-- 下拉刷新 -->\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n      <!-- 上拉加载更多 -->\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\" :immediate-check=\"false\">\n        <!-- 循环渲染文章的列表 -->\n        <art-item v-for=\"item in artlist\" :key=\"item.art_id.toString()\" :article=\"item\" @remove-article=\"removeArticle\"></art-item>\n      </van-list>\n    </van-pull-refresh>\n  </div>\n</template>\n\n<script>\n// 按需导入需要的 API 接口\nimport { getArtListAPI } from '@/api/homeAPI'\nimport ArtItem from '@/components/ArtItem/ArtItem.vue'\n\nexport default {\n  name: 'ArtList',\n  props: {\n    // 频道 Id\n    channelId: {\n      // 数值类型\n      type: Number,\n      // 必填项\n      required: true\n    }\n  },\n  data() {\n    return {\n      // 文章列表的数组\n      artlist: [],\n      // 是否正在进行上拉加载的请求\n      loading: false,\n      // 所有数据是否加载完毕\n      finished: false,\n      // 是否正在进行下拉刷新的请求\n      isLoading: false\n    }\n  },\n  created() {\n    // 在组件创建的时候，请求文章的列表数据\n    this.initArtList()\n  },\n  methods: {\n    // 初始化文章的列表数据\n    async initArtList(isRefresh) {\n      // 请求 API 接口\n      const { data: res } = await getArtListAPI(this.channelId)\n      if (res.message === 'OK') {\n        if (isRefresh) {\n          // 下拉刷新\n          // 1. “新数据”在前，“旧数据”在后\n          this.artlist = [...res.data.results, ...this.artlist]\n          // 2. 重置 isLoading 为 false\n          this.isLoading = false\n        } else {\n          // 上拉加载\n          // 1. “旧数据”在前，“新数据”在后\n          this.artlist = [...this.artlist, ...res.data.results]\n          // 2. 重置 loading 为 false\n          this.loading = false\n        }\n        // 3. 判断所有的数据是否已加载完毕\n        if (res.data.results.length === 0) {\n          this.finished = true\n        }\n      }\n    },\n    // 加载更多的数据\n    onLoad() {\n      this.initArtList()\n    },\n    // 下拉刷新\n    onRefresh() {\n      // 1. 重置关键的数据\n      this.loading = false\n      this.finished = false\n      this.artlist = []\n\n      // 2. 发起数据请求\n      this.initArtList(true)\n    },\n    // 从文章列表中移除指定 id 的文章\n    removeArticle(id) {\n      this.artlist = this.artlist.filter(item => item.art_id.toString() !== id)\n      if (this.artlist.length < 10) {\n        this.initArtList()\n      }\n    }\n  },\n  components: {\n    ArtItem\n  }\n}\n</script>\n\n<style lang=\"less\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArtList.vue?vue&type=template&id=2f82e5e8&scoped=true&\"\nimport script from \"./ArtList.vue?vue&type=script&lang=js&\"\nexport * from \"./ArtList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f82e5e8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home-container\">\n    <!-- 头部区域 -->\n    <van-nav-bar fixed>\n      <!-- 左侧的插槽 -->\n      <template #left>\n        <img src=\"../../assets/toutiao_logo.png\" alt=\"logo\" class=\"logo\" />\n      </template>\n      <!-- 右侧的插槽 -->\n      <template #right>\n        <van-icon name=\"search\" color=\"white\" size=\"18\" @click=\"$router.push('/search')\" />\n      </template>\n    </van-nav-bar>\n\n    <!-- 频道列表的标签页 -->\n    <van-tabs v-model=\"active\" sticky offset-top=\"1.22666667rem\" :before-change=\"beforeTabsChange\" @change=\"onTabsChange\">\n      <!-- 循环渲染用户的频道 -->\n      <van-tab v-for=\"item in userChannel\" :key=\"item.id\" :title=\"item.name\">\n        <art-list :channel-id=\"item.id\"></art-list>\n      </van-tab>\n    </van-tabs>\n\n    <!-- 频道管理的小图标 -->\n    <van-icon name=\"plus\" size=\"16\" class=\"plus\" @click=\"show = true\" />\n\n    <!-- 频道管理的弹出层 -->\n    <van-popup v-model=\"show\" :close-on-click-overlay=\"false\" @closed=\"isDel = false\">\n      <div class=\"popup-container\">\n\n        <!-- 弹出层的头部区域 -->\n        <van-nav-bar title=\"频道管理\">\n          <template #right>\n            <van-icon name=\"cross\" size=\"14\" color=\"white\" @click=\"show = false\" />\n          </template>\n        </van-nav-bar>\n\n        <!-- 弹出层的主体区域 -->\n        <div class=\"pop-body\">\n          <!-- 我的频道 -->\n          <div class=\"my-channel-box\">\n            <div class=\"channel-title\">\n              <div>\n                <span class=\"title-bold\">已添加频道：</span>\n                <span class=\"title-gray\">{{ isDel ? '点击移除频道' : '点击进入频道' }}</span>\n              </div>\n              <span class=\"btn-edit\" @click=\"isDel = !isDel\">{{ isDel ? '完成' : '编辑' }}</span>\n            </div>\n            <!-- 我的频道列表 -->\n            <van-row type=\"flex\">\n              <van-col span=\"6\" v-for=\"(item, index) in userChannel\" :key=\"item.id\">\n                <!-- 用户的频道 Item 项 -->\n                <div class=\"channel-item van-hairline--surround\" @click=\"onUserChannelClick(item, index)\">\n                  {{item.name}}\n                  <!-- 删除的图标 -->\n                  <van-badge color=\"transparent\" class=\"cross-badge\" v-if=\"isDel && item.name !== '推荐' && userChannel.length > 2\">\n                    <template #content>\n                      <van-icon name=\"cross\" class=\"badge-icon\" color=\"#cfcfcf\" size=\"12\" />\n                    </template>\n                  </van-badge>\n                </div>\n              </van-col>\n            </van-row>\n          </div>\n\n          <!-- 分隔线 -->\n          <div class=\"van-hairline--top sp-line\"></div>\n\n          <!-- 更多频道 -->\n          <div class=\"more-channel-box\">\n            <div class=\"channel-title\">\n              <div>\n                <span class=\"title-bold\">可添加频道：</span>\n                <span class=\"title-gray\">点击添加频道</span>\n              </div>\n            </div>\n            <!-- 更多频道列表 -->\n            <van-row type=\"flex\">\n              <van-col span=\"6\" v-for=\"item in moreChannels\" :key=\"item.id\">\n                <div class=\"channel-item van-hairline--surround\" @click=\"addChannel(item)\">{{item.name}}</div>\n              </van-col>\n            </van-row>\n          </div>\n        </div>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\n// 按需导入 API 接口\nimport { getUserChannelAPI, getAllChannelAPI, updateUserChannelAPI } from '@/api/homeAPI'\nimport ArtList from '@/components/ArtList/ArtList.vue'\n// 索引和 top 之间的对应关系，格式 { 0: 211, 1: 30, 2: 890}\nconst indexToTop = {}\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      // 标签页激活项的索引\n      active: 0,\n      // 用户的频道列表数组\n      userChannel: [],\n      // 控制频道管理弹出层的展示与隐藏\n      show: false,\n      // 所有的频道列表数据\n      allChannel: [],\n      // 是否处于编辑状态\n      isDel: false\n    }\n  },\n  created() {\n    this.initUserChannel()\n    this.initAllChannel()\n  },\n  // 当组件被激活时，从路由的元信息中获取到 top 的值，\n  // 从而滚动到指定的位置\n  activated() {\n    window.scrollTo(0, this.$route.meta.top)\n  },\n  methods: {\n    async initUserChannel() {\n      // 1. 调用 API 接口\n      const { data: res } = await getUserChannelAPI()\n      // 2. 判断请求是否成功\n      if (res.message === 'OK') {\n        // 3. 为用户的频道列表赋值\n        this.userChannel = res.data.channels\n      }\n    },\n    async initAllChannel() {\n      const { data: res } = await getAllChannelAPI()\n      if (res.message === 'OK') {\n        this.allChannel = res.data.channels\n      }\n    },\n    // 新增频道（形参 item 就是当前用户点击的频道信息对象）\n    // 格式：{ id, name }\n    addChannel(item) {\n      // 将用户点击的频道，添加到“用户频道”列表中\n      this.userChannel.push(item)\n\n      this.updateChannel()\n    },\n    // 把用户的频道列表数据提交到后端保存\n    async updateChannel() {\n      // 1. 准备要提交到服务器的数据\n      const channels = this.userChannel\n        .filter(item => item.name !== '推荐')\n        .map((item, index) => {\n          return {\n            id: item.id,\n            seq: index + 1\n          }\n        })\n\n      // 2. 调用 API 接口\n      const { data: res } = await updateUserChannelAPI(channels)\n      if (res.message === 'OK') {\n        // 3. 通过 notify 弹框提示用户更新成功\n        this.$notify({ type: 'success', message: '更新成功', duration: 1000 })\n      }\n    },\n    // 从用户频道列表中，移除指定 id 的频道\n    onUserChannelClick(channel, index) {\n      if (this.isDel) {\n        // 处于删除状态\n        if (channel.name === '推荐' || this.userChannel.length === 2) return\n        // 1. 进行数组的过滤\n        this.userChannel = this.userChannel.filter(item => item.id !== channel.id)\n\n        // 2. 将更改过后的用户频道数据，提交到服务器保存\n        this.updateChannel()\n      } else {\n        // 不处于删除状态\n        this.active = index\n        this.show = false\n      }\n    },\n    // tabs 发生切换之前，触发此方法\n    beforeTabsChange() {\n      // 把当前索引值对应的高度记录到 indexToTop 对象中\n      indexToTop[this.active] = window.scrollY\n      // return true 表示允许进行标签页的切换\n      return true\n    },\n    // 当 tabs 切换完毕之后，触发此方法\n    onTabsChange() {\n      // 等 DOM 更新完毕之后，根据记录的高度值，调用 window.scrollTo() 方法进行滚动\n      this.$nextTick(() => {\n        window.scrollTo(0, indexToTop[this.active] || 0)\n      })\n    }\n  },\n  computed: {\n    // 更多频道的数据\n    moreChannels() {\n      // 1. 对数组进行 filter 过滤，返回的是符合条件的新数组\n      return this.allChannel.filter(item => {\n        // 判断当前循环项，是否在 “我的频道” 列表之中\n        const index = this.userChannel.findIndex(x => x.id === item.id)\n        // 如果不在，则 return true，表示需要把这一项存储到返回的新数组之中\n        if (index === -1) return true\n      })\n    }\n  },\n  components: {\n    ArtList\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n// 组件外层容器的样式\n.home-container {\n  padding-top: 46px;\n  padding-bottom: 50px;\n}\n// logo 样式\n.logo {\n  height: 80%;\n}\n\n// 为 tabs 容器设置右 margin\n/deep/ .van-tabs__wrap {\n  padding-right: 36px;\n  background-color: white;\n  // box-shadow: -8px 0px 9px -9px rgba(0, 0, 0, 0.2) inset;\n}\n\n// 频道管理小图标的定位\n.plus {\n  position: fixed;\n  top: 58px;\n  right: 10px;\n  z-index: 999;\n}\n\n.van-popup,\n.popup-container {\n  background-color: transparent;\n  height: 100%;\n  width: 100%;\n}\n\n.popup-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.pop-body {\n  flex: 1;\n  overflow: scroll;\n  padding: 8px;\n  background-color: white;\n}\n\n.my-channel-box,\n.more-channel-box {\n  .channel-title {\n    display: flex;\n    justify-content: space-between;\n    font-size: 14px;\n    line-height: 28px;\n    padding: 0 6px;\n    .title-bold {\n      font-weight: bold;\n    }\n    .title-gray {\n      color: gray;\n      font-size: 12px;\n    }\n  }\n}\n\n.btn-edit {\n  border: 1px solid #a3a2a2;\n  padding: 0 10px;\n  line-height: 20px;\n  height: 20px;\n  border-radius: 6px;\n  font-size: 12px;\n}\n\n.channel-item {\n  font-size: 12px;\n  text-align: center;\n  line-height: 36px;\n  background-color: #fafafa;\n  margin: 6px;\n}\n\n.cross-badge {\n  position: absolute;\n  right: -3px;\n  top: 0;\n  border: none;\n}\n\n.sp-line {\n  margin: 10px 0 20px 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=692aec10&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=692aec10&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"692aec10\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-container\"},[_c('div',{staticClass:\"user-card\"},[_c('van-cell',{scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.userInfo.photo,\"alt\":\"\"}})]},proxy:true},{key:\"title\",fn:function(){return [_c('span',{staticClass:\"username\"},[_vm._v(_vm._s(_vm.userInfo.name))])]},proxy:true},{key:\"label\",fn:function(){return [_c('van-tag',{attrs:{\"color\":\"#fff\",\"text-color\":\"#007bff\"}},[_vm._v(\"申请认证\")])]},proxy:true}])}),_c('div',{staticClass:\"user-data\"},[_c('div',{staticClass:\"user-data-item\"},[_c('span',[_vm._v(_vm._s(_vm.userInfo.art_count))]),_c('span',[_vm._v(\"动态\")])]),_c('div',{staticClass:\"user-data-item\"},[_c('span',[_vm._v(_vm._s(_vm.userInfo.follow_count))]),_c('span',[_vm._v(\"关注\")])]),_c('div',{staticClass:\"user-data-item\"},[_c('span',[_vm._v(_vm._s(_vm.userInfo.fans_count))]),_c('span',[_vm._v(\"粉丝\")])])])],1),_c('van-cell-group',{staticClass:\"action-card\"},[_c('van-cell',{attrs:{\"icon\":\"edit\",\"title\":\"编辑资料\",\"is-link\":\"\"},on:{\"click\":function($event){return _vm.$router.push({name: 'user-edit'})}}}),_c('van-cell',{attrs:{\"icon\":\"chat-o\",\"title\":\"小思同学\",\"is-link\":\"\",\"to\":\"/chat\"}}),_c('van-cell',{attrs:{\"icon\":\"warning-o\",\"title\":\"退出登录\",\"is-link\":\"\"},on:{\"click\":_vm.logout}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-container\">\n    <!-- 用户基本信息面板 -->\n    <div class=\"user-card\">\n      <!-- 用户头像、姓名 -->\n      <van-cell>\n        <!-- 使用 title 插槽来自定义标题 -->\n        <template #icon>\n          <img :src=\"userInfo.photo\" alt=\"\" class=\"avatar\">\n        </template>\n        <template #title>\n          <span class=\"username\">{{userInfo.name}}</span>\n        </template>\n        <template #label>\n          <van-tag color=\"#fff\" text-color=\"#007bff\">申请认证</van-tag>\n        </template>\n      </van-cell>\n      <!-- 动态、关注、粉丝 -->\n      <div class=\"user-data\">\n        <div class=\"user-data-item\">\n          <span>{{userInfo.art_count}}</span>\n          <span>动态</span>\n        </div>\n        <div class=\"user-data-item\">\n          <span>{{userInfo.follow_count}}</span>\n          <span>关注</span>\n        </div>\n        <div class=\"user-data-item\">\n          <span>{{userInfo.fans_count}}</span>\n          <span>粉丝</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- 操作面板 -->\n    <van-cell-group class=\"action-card\">\n      <van-cell icon=\"edit\" title=\"编辑资料\" is-link @click=\"$router.push({name: 'user-edit'})\" />\n      <van-cell icon=\"chat-o\" title=\"小思同学\" is-link to=\"/chat\" />\n      <van-cell icon=\"warning-o\" title=\"退出登录\" is-link @click=\"logout\" />\n    </van-cell-group>\n  </div>\n</template>\n\n<script>\n// 按需导入辅助函数\nimport { mapActions, mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'User',\n  // created() {\n  //   this.initUserInfo()\n  // },\n  // 被激活了\n  activated() {\n    // 只要组件被激活了，就重新初始化用户的信息\n    this.initUserInfo()\n  },\n  methods: {\n    // 从 vuex 中把指定名称的 Action 方法映射到组件中使用\n    ...mapActions(['initUserInfo']),\n    ...mapMutations(['cleanState']),\n    // 点击了退出登录\n    async logout() {\n      // 展示确认的提示框\n      const confirmResult = await this.$dialog\n        .confirm({\n          title: '提示',\n          message: '确认退出登录吗？'\n        })\n        .catch(err => {\n          // err 是错误的结果\n          console.log(err)\n          // 这里把 err return 给了 confirmResult\n          return err\n        })\n\n      // 如果点击了取消，则不执行后续的操作\n      if (confirmResult === 'cancel') return\n\n      // TODO：实现退出的登录操作：\n      // 1. 清空 vuex 中的数据\n      // 2. 清空本地的数据\n      this.cleanState()\n      // 3. 跳转到登录页\n      this.$router.push('/login')\n    }\n  },\n  computed: {\n    // 从 vuex 中把指定名称的 State 数据映射到组件中使用\n    ...mapState(['userInfo'])\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.user-container {\n  .user-card {\n    background-color: #007bff;\n    color: white;\n    padding-top: 20px;\n    .van-cell {\n      background: #007bff;\n      color: white;\n      &::after {\n        display: none;\n      }\n      .avatar {\n        width: 60px;\n        height: 60px;\n        background-color: #fff;\n        border-radius: 50%;\n        margin-right: 10px;\n      }\n      .username {\n        font-size: 14px;\n        font-weight: bold;\n      }\n    }\n  }\n  .user-data {\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n    font-size: 14px;\n    padding: 30px 0;\n    .user-data-item {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 33.33%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=332d6396&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=332d6396&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"332d6396\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-header\"},[_c('van-icon',{staticClass:\"goback\",attrs:{\"name\":\"arrow-left\",\"color\":\"white\",\"size\":\"18\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('van-search',{ref:\"searchRef\",attrs:{\"placeholder\":\"请输入搜索关键词\",\"background\":\"#007BFF\",\"shape\":\"round\"},on:{\"input\":_vm.onInput},model:{value:(_vm.kw),callback:function ($$v) {_vm.kw=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"kw\"}})],1),(_vm.kw.length != 0)?_c('div',{staticClass:\"sugg-list\"},_vm._l((_vm.suggestList),function(item,i){return _c('div',{key:i,staticClass:\"sugg-item\",domProps:{\"innerHTML\":_vm._s(item)},on:{\"click\":_vm.gotoSearchResult}},[_vm._v(_vm._s(item))])}),0):_c('div',{staticClass:\"search-history\"},[_c('van-cell',{attrs:{\"title\":\"搜索历史\"},scopedSlots:_vm._u([{key:\"right-icon\",fn:function(){return [_c('van-icon',{staticClass:\"search-icon\",attrs:{\"name\":\"delete\"},on:{\"click\":function($event){_vm.history = []}}})]},proxy:true}])}),_c('div',{staticClass:\"history-list\"},_vm._l((_vm.history),function(tag,i){return _c('span',{key:i,staticClass:\"history-item\",on:{\"click\":_vm.gotoSearchResult}},[_vm._v(_vm._s(tag))])}),0)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request.js'\n\n// 获取搜索建议列表数据的 API\nexport const getSuggestListAPI = kw => {\n  return request.get('/v1_0/suggestion', {\n    params: {\n      q: kw\n    }\n  })\n}\n\n// 封装搜索文章数据的 API\nexport const getSearchResultAPI = (kw, page) => {\n  return request.get('/v1_0/search', {\n    params: {\n      q: kw, // 搜索关键词\n      page // 页码值\n    }\n  })\n}\n","<template>\n  <div>\n    <!-- Header 头部区域 -->\n    <div class=\"search-header\">\n      <!-- 后退按钮 -->\n      <van-icon name=\"arrow-left\" color=\"white\" size=\"18\" class=\"goback\" @click=\"$router.back()\" />\n      <!-- 搜索组件 -->\n      <van-search v-model.trim=\"kw\" placeholder=\"请输入搜索关键词\" background=\"#007BFF\" shape=\"round\" ref=\"searchRef\" @input=\"onInput\" />\n    </div>\n\n    <!-- 搜索建议 -->\n    <div class=\"sugg-list\" v-if=\"kw.length != 0\">\n      <div class=\"sugg-item\" v-for=\"(item, i) in suggestList\" :key=\"i\" v-html=\"item\" @click=\"gotoSearchResult\">{{item}}</div>\n    </div>\n\n    <!-- 搜索历史 -->\n    <div class=\"search-history\" v-else>\n      <!-- 标题 -->\n      <van-cell title=\"搜索历史\">\n        <!-- 使用 right-icon 插槽来自定义右侧图标 -->\n        <template #right-icon>\n          <van-icon name=\"delete\" class=\"search-icon\" @click=\"history = []\" />\n        </template>\n      </van-cell>\n\n      <!-- 历史列表 -->\n      <div class=\"history-list\">\n        <span class=\"history-item\" v-for=\"(tag, i) in history\" :key=\"i\" @click=\"gotoSearchResult\">{{tag}}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// 按需导入 API 接口\nimport { getSuggestListAPI } from '@/api/searchAPI.js'\n\nexport default {\n  name: 'Search',\n  data() {\n    return {\n      // 搜索关键词\n      kw: '',\n      // 延时器的 id\n      timerId: null,\n      // 搜索建议列表\n      suggestList: [],\n      // 搜索历史\n      history: JSON.parse(localStorage.getItem('history') || '[]')\n    }\n  },\n  mounted() {\n    this.$refs.searchRef && this.$refs.searchRef.querySelector('input').focus()\n  },\n  methods: {\n    // 搜索组件的输入事件\n    onInput() {\n      // 清除上次的延时器\n      clearTimeout(this.timerId)\n\n      // 如果输入的内容为空，则 return 出去，不开启延时器\n      if (this.kw.length === 0) {\n        this.suggestList = []\n        return\n      }\n\n      // 重新开启新的延时器\n      this.timerId = setTimeout(() => {\n        this.initSuggestList()\n      }, 500)\n    },\n    // 请求搜索建议列表数据的方法\n    async initSuggestList() {\n      // 调用 API 接口\n      const { data: res } = await getSuggestListAPI(this.kw)\n      if (res.message === 'OK') {\n        this.hlightKeywords(res.data.options)\n        // 为 suggestList 数据赋值\n        this.suggestList = res.data.options\n\n        // 把搜索关键词加入到搜索历史中\n        const newHistory = this.history.filter(item => item !== this.kw)\n        newHistory.unshift(this.kw)\n        this.history = newHistory\n      }\n    },\n    // 高亮搜索关键词的方法，形参中的 arr 是搜索建议的数组\n    hlightKeywords(arr) {\n      // 1. 根据用户输入的 kw，动态创建正则表达式\n      const reg = new RegExp(this.kw, 'ig')\n      // 循环数组中的每一项\n      arr.forEach((item, index) => {\n        // 2. 调用字符串的 replace 方法进行关键字的高亮处理\n        arr[index] = item.replace(reg, val => {\n          return `<span style=\"color: red; font-weight: bold;\">${val}</span>`\n        })\n      })\n    },\n    // 跳转到搜索结果页\n    gotoSearchResult(e) {\n      // e.currentTarget 是当正在触发事件的那个元素\n      // console.log(e.currentTarget.innerText)\n\n      // 1. 获取用户当前点击的搜索建议项的内容\n      const kw = e.currentTarget.innerText\n      // 2. 通过编程式导航 API，跳转到搜索结果页\n      this.$router.push('/search/' + kw)\n    }\n  },\n  watch: {\n    // 监视历史记录的变化\n    history(newVal) {\n      // 持久化存储到本地\n      localStorage.setItem('history', JSON.stringify(newVal))\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.search-header {\n  height: 46px;\n  display: flex;\n  align-items: center;\n  background-color: #007bff;\n  overflow: hidden;\n  // 后退按钮\n  .goback {\n    padding-left: 14px;\n  }\n  // 搜索组件\n  .van-search {\n    flex: 1;\n  }\n}\n\n.sugg-list {\n  .sugg-item {\n    padding: 0 15px;\n    border-bottom: 1px solid #f8f8f8;\n    font-size: 14px;\n    line-height: 50px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n\n.search-icon {\n  font-size: 16px;\n  line-height: inherit;\n}\n\n.history-list {\n  padding: 0 10px;\n  .history-item {\n    display: inline-block;\n    font-size: 12px;\n    padding: 8px 14px;\n    background-color: #efefef;\n    margin: 10px 8px 0px 8px;\n    border-radius: 10px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=003b6350&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=003b6350&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"003b6350\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-result-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"搜索结果\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多数据了\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.searchList),function(item){return _c('art-item',{key:item.art_id.toString(),attrs:{\"article\":item,\"closable\":false}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"search-result-container\">\n    <!-- 点击实现后退效果 -->\n    <van-nav-bar title=\"搜索结果\" left-arrow @click-left=\"$router.back()\" fixed />\n\n    <!-- 上拉加载更多 -->\n    <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多数据了\" @load=\"onLoad\" :immediate-check=\"false\">\n      <!-- 文章的 Item 项 -->\n      <art-item v-for=\"item in searchList\" :key=\"item.art_id.toString()\" :article=\"item\" :closable=\"false\"></art-item>\n    </van-list>\n  </div>\n</template>\n\n<script>\n// 按需导入 API 方法\nimport { getSearchResultAPI } from '@/api/searchAPI.js'\n// 导入文章的 Item 项组件\nimport ArtItem from '@/components/ArtItem/ArtItem.vue'\n\nexport default {\n  name: 'SearchResult',\n  // 组件的 prop 属性\n  props: ['kw'],\n  data() {\n    return {\n      // 搜索的结果\n      searchList: [],\n      // 页码值\n      page: 1,\n      // 是否正在进行上拉加载的数据请求\n      loading: false,\n      // 所有数据是否已经加载完毕\n      finished: false,\n      // 缓存的搜索关键词\n      preKw: ''\n    }\n  },\n  created() {\n    // 把下面这一行注释掉，因为 activated 在组件首次加载时也会调用一次\n    // this.initSearchList()\n  },\n  // 组件被激活\n  activated() {\n    // 如果上一次的 kw 不为空，且这次的 kw 和上次缓存的 kw 值不同，则需要重新请求列表数据\n    if (this.preKw !== '' && this.kw !== this.preKw) {\n      // 1. 重置数据\n      this.page = 1\n      this.searchList = []\n      this.loading = false\n      this.finished = false\n\n      // 2. 重新请求列表数据\n      this.initSearchList()\n    }\n  },\n  // 组件被缓存\n  deactivated() {\n    // 组件被缓存时，将搜索关键词保存到 data 中\n    this.preKw = this.kw\n  },\n  methods: {\n    // 获取搜索的结果\n    async initSearchList() {\n      // 调用 API 接口\n      const { data: res } = await getSearchResultAPI(this.kw, this.page)\n      if (res.message === 'OK') {\n        // 1. 拼接数据：“旧数据”在前，“新数据”在后\n        this.searchList = [...this.searchList, ...res.data.results]\n        // 2. 将 loading 设置为 false\n        this.loading = false\n        // 3. 判断数据是否加载完毕\n        if (res.data.results.length === 0) {\n          this.finished = true\n        }\n        // 4. 让页码值 +1\n        this.page += 1\n      }\n    },\n    // 触发了上拉加载更多\n    onLoad() {\n      this.initSearchList()\n    }\n  },\n  components: {\n    // 注册组件\n    ArtItem\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.search-result-container {\n  padding-top: 46px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResult.vue?vue&type=template&id=6fa072a2&scoped=true&\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResult.vue?vue&type=style&index=0&id=6fa072a2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fa072a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"title\":\"文章详情\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),(_vm.article)?_c('div',{staticClass:\"article-container\"},[_c('h1',{staticClass:\"art-title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('van-cell',{attrs:{\"center\":\"\",\"title\":_vm.article.aut_name,\"label\":_vm._f(\"dateFormat\")(_vm.article.pubdate)},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.article.aut_photo,\"alt\":\"\"}})]},proxy:true},{key:\"default\",fn:function(){return [_c('div',[(_vm.article.is_followed)?_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"mini\"},on:{\"click\":_vm.setUnfollow}},[_vm._v(\"已关注\")]):_c('van-button',{attrs:{\"icon\":\"plus\",\"type\":\"info\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.setFollow}},[_vm._v(\"关注\")])],1)]},proxy:true}],null,false,96818678)}),_c('van-divider'),_c('div',{staticClass:\"art-content\",domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),_c('van-divider',[_vm._v(\"End\")]),_c('div',{staticClass:\"like-box\"},[(_vm.article.attitude === 1)?_c('van-button',{attrs:{\"icon\":\"good-job\",\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.setDislike}},[_vm._v(\"已点赞\")]):_c('van-button',{attrs:{\"icon\":\"good-job-o\",\"type\":\"danger\",\"plain\":\"\",\"size\":\"small\"},on:{\"click\":_vm.setLike}},[_vm._v(\"点赞\")])],1)],1):_vm._e(),_c('art-cmt',{attrs:{\"art-id\":_vm.id}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request.js'\n\n// 获取文章详情的 API\nexport const getArticleDetailAPI = id => {\n  return request.get(`/v1_0/articles/${id}`)\n}\n\n// 关注用户的 API（形参中的 userId 是文字作者的 id）\nexport const followUserAPI = userId => {\n  return request.post('/v1_0/user/followings', {\n    target: userId\n  })\n}\n\n// 取消关注用户的 API\nexport const unfollowUserAPI = userId => {\n  return request.delete(`/v1_0/user/followings/${userId}`)\n}\n\n// 点赞的 API（形参中的 artId 是文章的 Id）\nexport const addLikeAPI = artId => {\n  return request.post('/v1_0/article/likings', {\n    target: artId\n  })\n}\n\n// 取消点赞的 API（形参中的 artId 是文章的 Id）\nexport const delLikeAPI = artId => {\n  return request.delete(`/v1_0/article/likings/${artId}`)\n}\n\n// 获取文章下评论数据的 API\nexport const getCmtListAPI = (artId, offset) => {\n  return request.get('/v1_0/comments', {\n    params: {\n      // a 表示获取文章下的评论\n      type: 'a',\n      // 文章的 Id\n      source: artId,\n      // 获取评论数据的偏移量，值为评论的 id。表示从此 id 的数据向后取，不传表示从第一页开始读取数据\n      offset\n    }\n  })\n}\n\n// 评论点赞的 API\nexport const addLikeCmtAPI = cmtId => {\n  return request.post('/v1_0/comment/likings', {\n    target: cmtId\n  })\n}\n\n// 评论取消点赞的 API\nexport const delLikeCmtAPI = cmtId => {\n  return request.delete(`/v1_0/comment/likings/${cmtId}`)\n}\n\n// 发表评论的 API（形参中的 artId 是文章的 id；形参中的 content 是评论的内容）\nexport const pubCommentAPI = (artId, content) => {\n  return request.post('/v1_0/comments', {\n    target: artId,\n    content\n  })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.isShowBox1 ? 'art-cmt-container-1' : 'art-cmt-container-2'},[_c('van-list',{staticClass:\"cmt-list\",attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多评论了\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.cmtlist),function(item,index){return _c('div',{key:index,staticClass:\"cmt-item\"},[_c('div',{staticClass:\"cmt-header\"},[_c('div',{staticClass:\"cmt-header-left\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.aut_photo,\"alt\":\"\"}}),_c('span',{staticClass:\"uname\"},[_vm._v(_vm._s(item.aut_name))])]),_c('div',{staticClass:\"cmt-header-right\"},[(item.is_liking)?_c('van-icon',{attrs:{\"name\":\"like\",\"size\":\"16\",\"color\":\"red\"},on:{\"click\":function($event){return _vm.delLike(item)}}}):_c('van-icon',{attrs:{\"name\":\"like-o\",\"size\":\"16\",\"color\":\"gray\"},on:{\"click\":function($event){return _vm.addLike(item)}}})],1)]),_c('div',{staticClass:\"cmt-body\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"cmt-footer\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(item.pubdate)))])])}),0),(_vm.isShowBox1)?_c('div',{staticClass:\"add-cmt-box van-hairline--top\"},[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"size\":\"18\"},on:{\"click\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"ipt-cmt-div\",on:{\"click\":_vm.showBox2}},[_vm._v(\"发表评论\")]),_c('div',{staticClass:\"icon-box\"},[_c('van-badge',{attrs:{\"content\":_vm.cmtCount,\"max\":99}},[_c('van-icon',{attrs:{\"name\":\"comment-o\",\"size\":\"20\"},on:{\"click\":_vm.scrollToCmtList}})],1),_c('van-icon',{attrs:{\"name\":\"star-o\",\"size\":\"20\"}}),_c('van-icon',{attrs:{\"name\":\"share-o\",\"size\":\"20\"}})],1)],1):_c('div',{staticClass:\"cmt-box van-hairline--top\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.cmt),expression:\"cmt\",modifiers:{\"trim\":true}}],ref:\"iptCmt\",attrs:{\"placeholder\":\"友善评论、理性发言、阳光心灵\"},domProps:{\"value\":(_vm.cmt)},on:{\"blur\":[_vm.hideBox2,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing){ return; }_vm.cmt=$event.target.value.trim()}}}),_c('van-button',{attrs:{\"type\":\"default\",\"disabled\":_vm.cmt.length === 0},on:{\"click\":_vm.pubCmt}},[_vm._v(\"发布\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"isShowBox1 ? 'art-cmt-container-1' : 'art-cmt-container-2'\">\n    <!-- 评论列表 -->\n    <van-list class=\"cmt-list\" v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多评论了\" :immediate-check=\"false\" @load=\"onLoad\">\n      <!-- 评论的 Item 项 -->\n      <div class=\"cmt-item\" v-for=\"(item, index) in cmtlist\" :key=\"index\">\n        <!-- 头部区域 -->\n        <div class=\"cmt-header\">\n          <!-- 头部左侧 -->\n          <div class=\"cmt-header-left\">\n            <img :src=\"item.aut_photo\" alt=\"\" class=\"avatar\">\n            <span class=\"uname\">{{item.aut_name}}</span>\n          </div>\n          <!-- 头部右侧 -->\n          <div class=\"cmt-header-right\">\n            <van-icon name=\"like\" size=\"16\" color=\"red\" v-if=\"item.is_liking\" @click=\"delLike(item)\" />\n            <van-icon name=\"like-o\" size=\"16\" color=\"gray\" v-else @click=\"addLike(item)\" />\n          </div>\n        </div>\n        <!-- 主体区域 -->\n        <div class=\"cmt-body\">{{item.content}}</div>\n        <!-- 尾部区域 -->\n        <div class=\"cmt-footer\">{{item.pubdate | dateFormat}}</div>\n      </div>\n    </van-list>\n\n    <!-- 底部添加评论区域 - 1 -->\n    <div class=\"add-cmt-box van-hairline--top\" v-if=\"isShowBox1\">\n      <van-icon name=\"arrow-left\" size=\"18\" @click=\"$router.back()\" />\n      <div class=\"ipt-cmt-div\" @click=\"showBox2\">发表评论</div>\n      <div class=\"icon-box\">\n        <van-badge :content=\"cmtCount\" :max=\"99\">\n          <van-icon name=\"comment-o\" size=\"20\" @click=\"scrollToCmtList\" />\n        </van-badge>\n        <van-icon name=\"star-o\" size=\"20\" />\n        <van-icon name=\"share-o\" size=\"20\" />\n      </div>\n    </div>\n\n    <!-- 底部添加评论区域 - 2 -->\n    <div class=\"cmt-box van-hairline--top\" v-else>\n      <textarea placeholder=\"友善评论、理性发言、阳光心灵\" @blur=\"hideBox2\" ref=\"iptCmt\" v-model.trim=\"cmt\"></textarea>\n      <van-button type=\"default\" :disabled=\"cmt.length === 0\" @click=\"pubCmt\">发布</van-button>\n    </div>\n  </div>\n</template>\n\n<script>\n// 按需导入 API\nimport { getCmtListAPI, addLikeCmtAPI, delLikeCmtAPI, pubCommentAPI } from '@/api/articleAPI.js'\n// 从 popmotion 中按需导入 animate 动画函数\nimport { animate } from 'popmotion'\n\nexport default {\n  name: 'ArtCmt',\n  props: {\n    // 文章的 Id\n    artId: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  data() {\n    return {\n      // 文章的评论列表数据\n      cmtlist: [],\n      // 偏移量\n      offset: null,\n      // 是否正在请求上拉加载的数据\n      loading: false,\n      // 所有数据是否加载完毕了\n      finished: false,\n      // 是否展示评论区域 1\n      isShowBox1: true,\n      // 当前文章的总评论数\n      cmtCount: 0,\n      // 用户填写的评论内容\n      cmt: ''\n    }\n  },\n  created() {\n    this.initCmtList()\n  },\n  methods: {\n    // 初始化评论列表的数据\n    async initCmtList() {\n      // 调用 API 接口\n      const { data: res } = await getCmtListAPI(this.artId, this.offset)\n      if (res.message === 'OK') {\n        // 为总评论数赋值\n        this.cmtCount = res.data.total_count\n        // 为列表数据赋值\n        this.cmtlist = [...this.cmtlist, ...res.data.results]\n        // 为偏移量赋值\n        this.offset = res.data.last_id\n        // 将 loading 重置为 false\n        this.loading = false\n        // 判断所有数据是否加载完毕\n        if (res.data.results.length === 0) {\n          this.finished = true\n        }\n      }\n    },\n    // 上拉加载\n    onLoad() {\n      this.initCmtList()\n    },\n    // 评论点赞\n    async addLike(cmt) {\n      // 调用 API 接口\n      const { data: res } = await addLikeCmtAPI(cmt.com_id.toString())\n\n      if (res.message === 'OK') {\n        // 在客户端，将点赞的状态设置为 true\n        cmt.is_liking = true\n      }\n    },\n    // 评论取消点赞\n    async delLike(cmt) {\n      // 调用 API 接口（注意：由于取消点赞的 API 没有响应体，不需要进行解构赋值）\n      const res = await delLikeCmtAPI(cmt.com_id.toString())\n      if (res.status === 204) {\n        // 在客户端，将点赞的状态设置为 false\n        cmt.is_liking = false\n      }\n    },\n    // 展示第二个评论区域\n    showBox2() {\n      this.isShowBox1 = false\n      // 将回调函数延迟到下次 DOM 更新完毕之后执行\n      this.$nextTick(() => {\n        // 通过 ref 获取到 textarea 的引用\n        this.$refs.iptCmt.focus()\n      })\n    },\n    // 隐藏第二个评论区域\n    hideBox2() {\n      // 当文本框失去焦点时，延迟 100ms 再隐藏第二个评论区域\n      // 目的：让发布评论的按钮能正常响应用户的点击事件\n      setTimeout(() => {\n        this.isShowBox1 = true\n        this.cmt = ''\n      }, 100)\n    },\n    // 点击了发布评论的按钮\n    async pubCmt() {\n      // 调用 API 接口\n      const { data: res } = await pubCommentAPI(this.artId, this.cmt)\n      if (res.message === 'OK') {\n        // 评论数自增 +1\n        this.cmtCount += 1\n        // 动态给响应回来的数据添加 is_liking 属性\n        res.data.new_obj.is_liking = false\n        // 将接口返回的、最新的评论内容，unshift 追加到 cmtlist 中\n        this.cmtlist.unshift(res.data.new_obj)\n        // 提示用户发表评论成功\n        this.$toast.success('发表评论成功')\n      }\n    },\n    // 滚动到评论的列表区域\n    scrollToCmtList() {\n      // 1. 当前滚动条的位置\n      const now = window.scrollY\n      // 2. 目标位置（文章信息区域的高度）\n      const dist = document.querySelector('.article-container').offsetHeight\n\n      // 3. 实现滚动动画\n      animate({\n        from: now,\n        to: dist,\n        onUpdate: latest => window.scrollTo(0, latest)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.cmt-list {\n  padding: 10px;\n  .cmt-item {\n    padding: 15px 0;\n    + .cmt-item {\n      border-top: 1px solid #f8f8f8;\n    }\n    .cmt-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      .cmt-header-left {\n        display: flex;\n        align-items: center;\n        .avatar {\n          width: 40px;\n          height: 40px;\n          background-color: #f8f8f8;\n          border-radius: 50%;\n          margin-right: 15px;\n        }\n        .uname {\n          font-size: 12px;\n        }\n      }\n    }\n    .cmt-body {\n      font-size: 14px;\n      line-height: 28px;\n      text-indent: 2em;\n      margin-top: 6px;\n      word-break: break-all;\n    }\n    .cmt-footer {\n      font-size: 12px;\n      color: gray;\n      margin-top: 10px;\n    }\n  }\n}\n\n// 外层容器\n.art-cmt-container-1 {\n  padding-bottom: 46px;\n}\n.art-cmt-container-2 {\n  padding-bottom: 80px;\n}\n\n// 发布评论的盒子 - 1\n.add-cmt-box {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  box-sizing: border-box;\n  background-color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 46px;\n  line-height: 46px;\n  padding-left: 10px;\n  .ipt-cmt-div {\n    flex: 1;\n    border: 1px solid #efefef;\n    border-radius: 15px;\n    height: 30px;\n    font-size: 12px;\n    line-height: 30px;\n    padding-left: 15px;\n    margin-left: 10px;\n    background-color: #f8f8f8;\n  }\n  .icon-box {\n    width: 40%;\n    display: flex;\n    justify-content: space-evenly;\n    line-height: 0;\n  }\n}\n\n.child {\n  width: 20px;\n  height: 20px;\n  background: #f2f3f5;\n}\n\n// 发布评论的盒子 - 2\n.cmt-box {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 80px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 12px;\n  padding-left: 10px;\n  box-sizing: border-box;\n  background-color: white;\n  textarea {\n    flex: 1;\n    height: 66%;\n    border: 1px solid #efefef;\n    background-color: #f8f8f8;\n    resize: none;\n    border-radius: 6px;\n    padding: 5px;\n  }\n  .van-button {\n    height: 100%;\n    border: none;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtCmt.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtCmt.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArtCmt.vue?vue&type=template&id=51b3dc00&scoped=true&\"\nimport script from \"./ArtCmt.vue?vue&type=script&lang=js&\"\nexport * from \"./ArtCmt.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArtCmt.vue?vue&type=style&index=0&id=51b3dc00&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51b3dc00\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <!-- Header 区域 -->\n    <van-nav-bar fixed title=\"文章详情\" left-arrow @click-left=\"$router.back()\" />\n\n    <!-- 文章信息区域 -->\n    <div class=\"article-container\" v-if=\"article\">\n      <!-- 文章标题 -->\n      <h1 class=\"art-title\">{{article.title}}</h1>\n\n      <!-- 用户信息 -->\n      <van-cell center :title=\"article.aut_name\" :label=\"article.pubdate | dateFormat\">\n        <template #icon>\n          <!-- 头像 -->\n          <img :src=\"article.aut_photo\" alt=\"\" class=\"avatar\">\n        </template>\n        <template #default>\n          <div>\n            <!-- 是否关注了作者 -->\n            <van-button type=\"info\" size=\"mini\" v-if=\"article.is_followed\" @click=\"setUnfollow\">已关注</van-button>\n            <van-button icon=\"plus\" type=\"info\" size=\"mini\" plain v-else @click=\"setFollow\">关注</van-button>\n          </div>\n        </template>\n      </van-cell>\n\n      <!-- 分割线 -->\n      <van-divider></van-divider>\n\n      <!-- 文章内容 -->\n      <div class=\"art-content\" v-html=\"article.content\"></div>\n\n      <!-- 分割线 -->\n      <van-divider>End</van-divider>\n\n      <!-- 点赞 -->\n      <div class=\"like-box\">\n        <van-button icon=\"good-job\" type=\"danger\" size=\"small\" v-if=\"article.attitude === 1\" @click=\"setDislike\">已点赞</van-button>\n        <van-button icon=\"good-job-o\" type=\"danger\" plain size=\"small\" v-else @click=\"setLike\">点赞</van-button>\n      </div>\n    </div>\n\n    <!-- 文章的评论组件 -->\n    <art-cmt :art-id=\"id\"></art-cmt>\n  </div>\n</template>\n\n<script>\n// 按需导入 API 接口\nimport { getArticleDetailAPI, followUserAPI, unfollowUserAPI, addLikeAPI, delLikeAPI } from '@/api/articleAPI.js'\n// 导入文章的评论组件\nimport ArtCmt from '@/components/ArtCmt/ArtCmt.vue'\n// 导入 highlight.js 模块\nimport hljs from 'highlight.js'\n\nexport default {\n  name: 'ArticleDetail',\n  // props 中的 id 是文章的 id（已经调用了大数的 .toString() 方法）\n  props: ['id'],\n  data() {\n    return {\n      // 文章的信息对象\n      article: null\n    }\n  },\n  created() {\n    this.initArticle()\n  },\n  // 1. 当组件的 DOM 更新完毕之后\n  updated() {\n    // 2. 判断是否有文章的内容\n    if (this.article) {\n      console.log('ok')\n      // 3. 对文章的内容进行高亮处理\n      hljs.highlightAll()\n    }\n  },\n  methods: {\n    // 初始化文章的数据\n    async initArticle() {\n      // 调用 API 接口\n      const { data: res } = await getArticleDetailAPI(this.id)\n      if (res.message === 'OK') {\n        // 转存数据\n        this.article = res.data\n      }\n    },\n    // 关注作者\n    async setFollow() {\n      // 调用关注作者的 API 接口\n      const { data: res } = await followUserAPI(this.article.aut_id.toString())\n      if (res.message === 'OK') {\n        // 提示用户成功\n        this.$toast.success('关注成功！')\n        // 手动更改关注的状态\n        this.article.is_followed = true\n      }\n    },\n    // 取关作者\n    async setUnfollow() {\n      // 调用 API 接口\n      const res = await unfollowUserAPI(this.article.aut_id.toString())\n      // 判断响应的状态码\n      if (res.status === 204) {\n        // 提示用户\n        this.$toast.success('取关成功！')\n        // 手动更改关注的状态\n        this.article.is_followed = false\n      }\n    },\n    // 文章点赞\n    async setLike() {\n      // 调用 API 接口\n      const { data: res } = await addLikeAPI(this.id)\n      if (res.message === 'OK') {\n        // 提示用户\n        this.$toast.success('点赞成功！')\n        // 手动变更点赞的状态\n        this.article.attitude = 1\n      }\n    },\n    // 取消点赞\n    async setDislike() {\n      // 调用 API 接口\n      const res = await delLikeAPI(this.id)\n      if (res.status === 204) {\n        // 提示用户\n        this.$toast.success('取消点赞成功！')\n        // 手动变更点赞的状态\n        this.article.attitude = -1\n      }\n    }\n  },\n  components: {\n    ArtCmt\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.article-container {\n  padding: 10px;\n  margin-top: 46px;\n}\n.art-title {\n  font-size: 16px;\n  font-weight: bold;\n  margin: 10px 0;\n}\n\n.art-content {\n  font-size: 12px;\n  line-height: 24px;\n  width: 100%;\n  overflow-x: scroll;\n  word-break: break-all;\n}\n\n.van-cell {\n  padding: 5px 0;\n  &::after {\n    display: none;\n  }\n}\n\n.avatar {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  background-color: #f8f8f8;\n  margin-right: 5px;\n  border: none;\n}\n\n.like-box {\n  display: flex;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleDetail.vue?vue&type=template&id=2a3aed95&scoped=true&\"\nimport script from \"./ArticleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleDetail.vue?vue&type=style&index=0&id=2a3aed95&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a3aed95\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-edit-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"编辑资料\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('van-cell-group',{staticClass:\"action-card\"},[_c('van-cell',{attrs:{\"title\":\"头像\",\"is-link\":\"\",\"center\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('van-image',{staticClass:\"avatar\",attrs:{\"round\":\"\",\"src\":_vm.userProfile.photo},on:{\"click\":function($event){return _vm.$refs.fileRef.click()}}}),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"fileRef\",attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.onFileChange}})]},proxy:true}])}),_c('van-cell',{attrs:{\"title\":\"名称\",\"is-link\":\"\",\"value\":_vm.userProfile.name},on:{\"click\":_vm.onNameCellClick}}),_c('van-cell',{attrs:{\"title\":\"生日\",\"is-link\":\"\",\"value\":_vm.userProfile.birthday},on:{\"click\":_vm.onBirthCellClick}})],1),_c('van-dialog',{attrs:{\"title\":\"修改名称\",\"show-cancel-button\":\"\",\"before-close\":_vm.beforeClose},model:{value:(_vm.showNameDialog),callback:function ($$v) {_vm.showNameDialog=$$v},expression:\"showNameDialog\"}},[_c('van-field',{ref:\"nameRef\",attrs:{\"placeholder\":\"请输入用户名\",\"input-align\":\"center\",\"maxlength\":\"7\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}})],1),_c('van-action-sheet',{model:{value:(_vm.showBirthSheet),callback:function ($$v) {_vm.showBirthSheet=$$v},expression:\"showBirthSheet\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"title\":\"选择年月日\",\"min-date\":_vm.minDate,\"max-date\":_vm.maxDate},on:{\"cancel\":function($event){_vm.showBirthSheet = false},\"confirm\":_vm.updateBirthday},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"user-edit-container\">\n    <!-- Header 区域 -->\n    <van-nav-bar title=\"编辑资料\" left-arrow @click-left=\"$router.back()\" fixed />\n\n    <!-- 用户资料 -->\n    <van-cell-group class=\"action-card\">\n      <van-cell title=\"头像\" is-link center>\n        <template #default>\n          <van-image round class=\"avatar\" :src=\"userProfile.photo\" @click=\"$refs.fileRef.click()\" />\n          <!-- 文件选择框 -->\n          <input type=\"file\" accept=\"image/*\" @change=\"onFileChange\" v-show=\"false\" ref=\"fileRef\" />\n        </template>\n      </van-cell>\n      <van-cell title=\"名称\" is-link :value=\"userProfile.name\" @click=\"onNameCellClick\" />\n      <van-cell title=\"生日\" is-link :value=\"userProfile.birthday\" @click=\"onBirthCellClick\" />\n    </van-cell-group>\n\n    <!-- 修改用户名称的对话框 -->\n    <van-dialog v-model=\"showNameDialog\" title=\"修改名称\" show-cancel-button :before-close=\"beforeClose\">\n      <van-field v-model.trim=\"name\" placeholder=\"请输入用户名\" input-align=\"center\" maxlength=\"7\" ref=\"nameRef\" />\n    </van-dialog>\n\n    <!-- 修改生日的动作面板 -->\n    <van-action-sheet v-model=\"showBirthSheet\">\n      <van-datetime-picker v-model=\"currentDate\" type=\"date\" title=\"选择年月日\" :min-date=\"minDate\" :max-date=\"maxDate\" @cancel=\"showBirthSheet = false\" @confirm=\"updateBirthday\" />\n    </van-action-sheet>\n  </div>\n</template>\n\n<script>\n// 按需导入辅助函数\nimport { mapActions, mapState } from 'vuex'\n// 按需导入 API 接口\nimport { updateUserProfileAPI, updateUserAvatarAPI } from '@/api/userAPI.js'\n// 导入 dayjs\nimport dayjs from 'dayjs'\n\nexport default {\n  name: 'UserEdit',\n  data() {\n    return {\n      // 是否展示修改姓名的对话框\n      showNameDialog: false,\n      // 用户填写的姓名\n      name: '',\n      // 是否展示修改生日的对话框\n      showBirthSheet: false,\n      // 最小可选日期\n      minDate: new Date(1900, 0, 1),\n      // 最大可选日期\n      maxDate: new Date(2050, 11, 31),\n      // 当前日期\n      currentDate: new Date()\n    }\n  },\n  created() {\n    this.initUserProfile()\n  },\n  methods: {\n    // 从 vuex 中把指定名称的 Action 方法映射到组件中使用\n    ...mapActions(['initUserProfile']),\n    // 点击了修改名称的 cell\n    onNameCellClick() {\n      // 把用户的名称赋值给 data 中的 name\n      this.name = this.userProfile.name\n      // 展示对话框\n      this.showNameDialog = true\n      // DOM 更新完毕之后，让文本框自动获得焦点\n      this.$nextTick(() => {\n        this.$refs.nameRef.focus()\n      })\n    },\n    // Dialog 关闭前的处理函数\n    beforeClose(action, done) {\n      // 点击了“取消”按钮\n      if (action === 'cancel') return done()\n\n      // 判断名称的长度是否不合法\n      if (this.name === '' || this.name.length > 7) {\n        // 1. 提示用户“名称的长度为1-7个字符”\n        this.$notify({ type: 'warning', message: '名称的长度为1-7个字符', duration: 2000 })\n        // 2. 让文本框持续获得焦点\n        this.$refs.nameRef.focus()\n        // 3. 阻止对话框关闭\n        return done(false)\n      }\n\n      // TODO：发起修改名称的请求：\n      // A. 如果请求成功，则调用 done() 关闭对话框\n      // B. 如果请求失败，则提示用户失败的信息，并调用 done(false) 阻止对话框关闭\n      this.updateName(done)\n    },\n    // 更新用户的简介信息\n    async updateName(done) {\n      try {\n        const { data: res } = await updateUserProfileAPI({ name: this.name })\n        if (res.message === 'OK') {\n          // 关闭对话框\n          done()\n          // 重新请求用户的简介信息\n          this.initUserProfile()\n          // 提示用户更新成功\n          this.$notify({ type: 'success', message: '名称更新成功！', duration: 2000 })\n        }\n      } catch (e) {\n        if (e.response.status === 409) {\n          // 提示用户名称被占用\n          this.$notify({ type: 'warning', message: '名称被占用，请更换后重试！', duration: 2000 })\n          // 阻止关闭对话框\n          done(false)\n          // 让文本框持续获得焦点\n          this.$refs.nameRef.focus()\n        } else {\n          done()\n          // 提示用户名称被占用\n          this.$notify({ type: 'danger', message: '名称更新失败！', duration: 2000 })\n        }\n      }\n    },\n    // 点击了修改生日的 cell\n    onBirthCellClick() {\n      // 如果用户生日的值存在，则初始值为用户的生日；否则为当前日期\n      this.currentDate = this.userProfile.birthday ? new Date(this.userProfile.birthday) : new Date()\n\n      // 展示动作面板\n      this.showBirthSheet = true\n    },\n    // 更新用户的生日\n    async updateBirthday(value) {\n      // 关闭动作面板\n      this.showBirthSheet = false\n\n      // 调用 .format() 方法对时间进行格式化\n      const dateStr = dayjs(value).format('YYYY-MM-DD')\n\n      // 调用 API 接口，修改用户的生日\n      const { data: res } = await updateUserProfileAPI({ birthday: dateStr })\n\n      if (res.message === 'OK') {\n        // 重新获取用户的简介信息\n        this.initUserProfile()\n        // 提示用户更新成功\n        this.$notify({ type: 'success', message: '生日修改成功！', duration: 2000 })\n      }\n    },\n    // 选中的文件发生了变化\n    async onFileChange(e) {\n      // 获取到用户选择的文件列表\n      const files = e.currentTarget.files\n      // 如果没有选择任何文件，则不执行后续的业务逻辑\n      if (files.length === 0) return\n\n      // 1.1 创建 FormData 的对象\n      const fd = new FormData()\n      // 1.2 向 fd 中追加数据项\n      fd.append('photo', files[0])\n\n      // 2. 调用 API 接口，更新头像\n      const { data: res } = await updateUserAvatarAPI(fd)\n      if (res.message === 'OK') {\n        // 2.1 更新用户的简介信息\n        this.initUserProfile()\n        // 2.2 提示用户更新成功\n        this.$notify({ type: 'success', message: '更新头像成功！', duration: 2000 })\n\n        // 更新用户的基本信息\n        // this.initUserInfo()\n      }\n    }\n  },\n  computed: {\n    // 从 vuex 中把指定名称的 State 数据映射到组件中使用\n    ...mapState(['userProfile'])\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.user-edit-container {\n  padding-top: 46px;\n}\n\n.user-edit-container {\n  padding-top: 46px;\n  .avatar {\n    width: 50px;\n    height: 50px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEdit.vue?vue&type=template&id=9cdb0c90&scoped=true&\"\nimport script from \"./UserEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserEdit.vue?vue&type=style&index=0&id=9cdb0c90&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9cdb0c90\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('van-nav-bar',{attrs:{\"fixed\":\"\",\"left-arrow\":\"\",\"title\":\"小思同学\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"chat-list\"},_vm._l((_vm.list),function(item,index){return _c('div',{key:index},[(item.name === 'xs')?_c('div',{staticClass:\"chat-item left\"},[_c('van-image',{attrs:{\"fit\":\"cover\",\"round\":\"\",\"src\":\"https://img.yzcdn.cn/vant/cat.jpeg\"}}),_c('div',{staticClass:\"chat-pao\"},[_vm._v(_vm._s(item.msg))])],1):_c('div',{staticClass:\"chat-item right\"},[_c('div',{staticClass:\"chat-pao\"},[_vm._v(_vm._s(item.msg))]),_c('van-image',{attrs:{\"fit\":\"cover\",\"round\":\"\",\"src\":_vm.userAvatar}})],1)])}),0),_c('div',{staticClass:\"reply-container van-hairline--top\"},[_c('van-field',{attrs:{\"placeholder\":\"说点什么...\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('span',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#999\"},on:{\"click\":function($event){return _vm.send()}}},[_vm._v(\"提交\")])]},proxy:true}]),model:{value:(_vm.word),callback:function ($$v) {_vm.word=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"word\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <!-- 固定导航 -->\n    <van-nav-bar fixed left-arrow @click-left=\"$router.back()\" title=\"小思同学\"></van-nav-bar>\n\n    <!-- 聊天主体区域 -->\n    <div class=\"chat-list\">\n      <div v-for=\"(item, index) in list\" :key=\"index\">\n        <!-- 左侧是机器人小思 -->\n        <div class=\"chat-item left\" v-if=\"item.name === 'xs'\">\n          <van-image fit=\"cover\" round src=\"https://img.yzcdn.cn/vant/cat.jpeg\" />\n          <div class=\"chat-pao\">{{item.msg}}</div>\n        </div>\n\n        <!-- 右侧是当前用户 -->\n        <div class=\"chat-item right\" v-else>\n          <div class=\"chat-pao\">{{item.msg}}</div>\n          <van-image fit=\"cover\" round :src=\"userAvatar\" />\n        </div>\n      </div>\n    </div>\n\n    <!-- 对话区域 -->\n    <div class=\"reply-container van-hairline--top\">\n      <van-field v-model.trim=\"word\" placeholder=\"说点什么...\">\n        <template #button>\n          <span @click=\"send()\" style=\"font-size:12px;color:#999\">提交</span>\n        </template>\n      </van-field>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n// 按需导入 io 方法：调用 io('url') 方法，即可创建 websocket 连接的实例\nimport { io } from 'socket.io-client'\n\n// 事先定义变量 socket，用来接收 io() 方法创建的 socket 实例\nlet socket = null\n\nexport default {\n  name: 'Chat',\n  data() {\n    return {\n      // 用户输入的聊天内容\n      word: '',\n      // 所有的聊天消息\n      list: []\n    }\n  },\n  created() {\n    // 创建客户端 websocket 的实例\n    socket = io('ws://www.liulongbin.top:9999')\n\n    // 建立连接的事件\n    socket.on('connect', () => console.log('connect'))\n\n    // 接收到消息的事件\n    socket.on('message', msg => {\n      this.list.push({ name: 'xs', msg })\n    })\n\n    // 关闭连接的事件\n    socket.on('disconnect', () => console.log('disconnect'))\n  },\n  // 组件被销毁之前，清空 sock 对象\n  beforeDestroy() {\n    // 关闭连接\n    socket.close()\n    // 销毁 websocket 实例对象\n    socket = null\n  },\n  methods: {\n    // 提交按钮的点击事件处理函数\n    send() {\n      // 如果输入的聊天内容为空，则 return 出去\n      if (!this.word) return\n\n      // 向服务器发送消息\n      socket.emit('send', this.word)\n      // 将用户填写的消息存储到 list 数组中\n      this.list.push({ name: 'me', msg: this.word })\n      // 清空文本框中的消息内容\n      this.word = ''\n    },\n    scrollToBottom() {\n      // 获取到所有的聊天 Item 项\n      const chatItems = document.querySelectorAll('.chat-item')\n      // 获取到最后一个聊天的 Item 元素\n      const lastItem = chatItems[chatItems.length - 1]\n\n      // 滚动元素的父容器，使被调用 scrollIntoView() 的元素对用户可见\n      lastItem.scrollIntoView({\n        // smooth 表示平滑滚动\n        behavior: 'smooth',\n        // 定义垂直方向的对齐（end 表示与可视区域的底端对齐）\n        block: 'end'\n      })\n    }\n  },\n  computed: {\n    ...mapGetters(['userAvatar'])\n  },\n  watch: {\n    list() {\n      this.$nextTick(() => {\n        this.scrollToBottom()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  box-sizing: border-box;\n  background: #fafafa;\n  padding: 46px 0 50px 0;\n  .chat-list {\n    height: 100%;\n    overflow-y: scroll;\n    .chat-item {\n      padding: 10px;\n      .van-image {\n        vertical-align: top;\n        width: 40px;\n        height: 40px;\n      }\n      .chat-pao {\n        vertical-align: top;\n        display: inline-block;\n        min-width: 40px;\n        max-width: 70%;\n        min-height: 40px;\n        line-height: 38px;\n        border: 0.5px solid #c2d9ea;\n        border-radius: 4px;\n        position: relative;\n        padding: 0 10px;\n        background-color: #e0effb;\n        word-break: break-all;\n        font-size: 14px;\n        color: #333;\n        &::before {\n          content: '';\n          width: 10px;\n          height: 10px;\n          position: absolute;\n          top: 12px;\n          border-top: 0.5px solid #c2d9ea;\n          border-right: 0.5px solid #c2d9ea;\n          background: #e0effb;\n        }\n      }\n    }\n  }\n}\n.chat-item.right {\n  text-align: right;\n  .chat-pao {\n    margin-left: 0;\n    margin-right: 15px;\n    &::before {\n      right: -6px;\n      transform: rotate(45deg);\n    }\n  }\n}\n.chat-item.left {\n  text-align: left;\n  .chat-pao {\n    margin-left: 15px;\n    margin-right: 0;\n    &::before {\n      left: -5px;\n      transform: rotate(-135deg);\n    }\n  }\n}\n.reply-container {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  height: 44px;\n  width: 100%;\n  background: #f5f5f5;\n  z-index: 9999;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=64ddef1e&scoped=true&\"\nimport script from \"./Chat.vue?vue&type=script&lang=js&\"\nexport * from \"./Chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&id=64ddef1e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64ddef1e\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport store from '@/store/index.js'\n\n// 导入需要的路由组件\nimport Login from '@/views/Login/Login.vue'\nimport Main from '@/views/Main/Main.vue'\n\nimport Home from '@/views/Home/Home.vue'\nimport User from '@/views/User/User.vue'\n\nimport Search from '@/views/Search/Search.vue'\nimport SearchResult from '@/views/SearchResult/SearchResult.vue'\n\nimport ArticleDetail from '@/views/ArticleDetail/ArticleDetail.vue'\nimport UserEdit from '@/views/UserEdit/UserEdit.vue'\nimport Chat from '@/views/Chat/Chat.vue'\n\n// https://www.cnblogs.com/lightice/p/13410200.html\n\n// 1. 将 VueRouter 本身提供的 $router.push 方法转存到常量中\nconst originalPush = VueRouter.prototype.push\n// 2. 自定义 $router.push 方法，在内部调用原生的 originalPush 方法进行路由跳转；并通过 .catch 捕获错误\nVueRouter.prototype.push = function push(location, onResolve, onReject) {\n  if (onResolve || onReject) return originalPush.call(this, location, onResolve, onReject)\n  return originalPush.call(this, location).catch(err => err)\n}\n\nVue.use(VueRouter)\n\nconst routes = [\n  // 带有 name 名称的路由规则，叫做“命名路由”\n  { path: '/login', component: Login, name: 'login' },\n  {\n    path: '/',\n    component: Main,\n    children: [\n      // path 为空字符串的子路由规则，叫做\"默认子路由\"\n      {\n        path: '',\n        component: Home,\n        name: 'home',\n        meta: { keepAlive: true, top: 0 }\n      },\n      { path: '/user', component: User, name: 'user' }\n    ]\n  },\n  // 搜索组件的路由规则\n  { path: '/search', component: Search, name: 'search' },\n  // 搜索结果页\n  { path: '/search/:kw', component: SearchResult, name: 'search-result', props: true },\n  // 文章详情的路由规则\n  { path: '/article/:id', component: ArticleDetail, name: 'art-detail', props: true },\n  // 编辑用户资料的路由规则\n  { path: '/user/edit', component: UserEdit, name: 'user-edit' },\n  // 聊天机器人的路由规则\n  { path: '/chat', component: Chat, name: 'chat' }\n]\n\n// 1. 创建路由的实例对象\nconst router = new VueRouter({\n  routes\n})\n\n// 所有有权限页面的路径，都在这个数组之中\nconst pagePathArr = ['/user', '/user/edit']\n\n// 2. 为路由的实例对象挂载全局前置守卫\nrouter.beforeEach((to, from, next) => {\n  if (from.meta.keepAlive) {\n    from.meta.top = window.scrollY\n  }\n\n  // 访问的是有权限的页面，需要判断用户是否登录\n  if (pagePathArr.indexOf(to.path) !== -1) {\n    // 1. 从 store 中获取 token 的值\n    const tokenStr = store.state.tokenInfo.token\n    if (tokenStr) {\n      // 1.1 token 有值，已登录过（操作：如果访问登录页，则不进行跳转；否则放行）\n      next()\n    } else {\n      // 1.2 token 不存在，没有登录（操作：强制跳转到登录页）\n      next(`/login?pre=${to.fullPath}`)\n    }\n  } else {\n    // 访问的是没有权限的页面\n    next()\n  }\n})\n\nexport default router\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport 'amfe-flexible'\r\n\r\nimport Vant, { Lazyload } from 'vant'\r\nimport 'vant/lib/index.less'\r\n\r\n// 导入 dayjs 的核心模块\r\nimport dayjs from 'dayjs'\r\n// 导入计算相对时间的插件\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\n// 导入中文语言包\r\nimport zh from 'dayjs/locale/zh-cn'\r\n\r\nVue.use(Vant)\r\nVue.use(Lazyload)\r\n\r\n// 配置“计算相对时间”的插件\r\ndayjs.extend(relativeTime)\r\n// 配置中文语言包\r\ndayjs.locale(zh)\r\n\r\n// dt 参数是文章的发表时间\r\nVue.filter('dateFormat', dt => {\r\n  // 调用 dayjs() 得到的是当前的时间\r\n  // .to() 方法的返回值，是计算出来的“相对时间”\r\n  return dayjs().to(dt)\r\n})\r\n\r\nVue.config.productionTip = false\r\n\r\n// 创建vue的实例对象\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n\r\n// new Promise(resolve => {\r\n//   resolve(Promise.resolve(2))\r\n// }).then(res1 => {\r\n//   console.log(res1)\r\n// })\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtItem.vue?vue&type=style&index=0&id=5ef335c2&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArtCmt.vue?vue&type=style&index=0&id=51b3dc00&lang=less&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/toutiao_logo.4653c8be.png\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=style&index=0&id=2a3aed95&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=003b6350&lang=less&scoped=true&\""],"sourceRoot":""}